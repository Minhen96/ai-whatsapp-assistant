{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Minhen\\\\Downloads\\\\AIAssistant-new\\\\Frontend\\\\src\\\\layouts\\\\ChatLayout.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useChat } from '../context/ChatContext';\nimport { useWebSocketSync } from '../hooks/useWebSocketSync';\nimport { useWelcomeMessage } from '../hooks/useWelcomeMessage';\nimport ChatHeader from '../components/chat/ChatHeader';\nimport ChatMessages from '../components/chat/ChatMessages';\nimport ChatFooter from '../components/chat/ChatFooter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatLayout = ({\n  mode,\n  onBack,\n  onConnectionChange,\n  onSendMessage,\n  onFileUpload,\n  isUploading\n}) => {\n  _s();\n  const {\n    addMessage,\n    setConnection\n  } = useChat();\n  const {\n    isConnected: wsConnected\n  } = useWebSocketSync();\n\n  // Initialize welcome message for this mode\n  useWelcomeMessage(mode, addMessage);\n\n  // Handle connection status\n  useEffect(() => {\n    setConnection(wsConnected);\n    onConnectionChange === null || onConnectionChange === void 0 ? void 0 : onConnectionChange(wsConnected);\n    return () => {\n      setConnection(false);\n      onConnectionChange === null || onConnectionChange === void 0 ? void 0 : onConnectionChange(false);\n    };\n  }, [wsConnected, setConnection, onConnectionChange]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-[calc(90vh-64px)] bg-white/60\",\n    children: [/*#__PURE__*/_jsxDEV(ChatHeader, {\n      mode: mode,\n      onBack: onBack,\n      isConnected: wsConnected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ChatMessages, {\n      mode: mode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ChatFooter, {\n      mode: mode,\n      onSendMessage: onSendMessage,\n      onFileUpload: onFileUpload,\n      isUploading: isUploading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatLayout, \"EuSQN2KnbuXgJkANKXjZMmZ8lXA=\", false, function () {\n  return [useChat, useWebSocketSync, useWelcomeMessage];\n});\n_c = ChatLayout;\nexport default ChatLayout;\nvar _c;\n$RefreshReg$(_c, \"ChatLayout\");","map":{"version":3,"names":["React","useEffect","useChat","useWebSocketSync","useWelcomeMessage","ChatHeader","ChatMessages","ChatFooter","jsxDEV","_jsxDEV","ChatLayout","mode","onBack","onConnectionChange","onSendMessage","onFileUpload","isUploading","_s","addMessage","setConnection","isConnected","wsConnected","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Minhen/Downloads/AIAssistant-new/Frontend/src/layouts/ChatLayout.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useChat } from '../context/ChatContext';\r\nimport { useWebSocketSync } from '../hooks/useWebSocketSync';\r\nimport { useWelcomeMessage } from '../hooks/useWelcomeMessage';\r\nimport ChatHeader from '../components/chat/ChatHeader';\r\nimport ChatMessages from '../components/chat/ChatMessages';\r\nimport ChatFooter from '../components/chat/ChatFooter';\r\n\r\nconst ChatLayout = ({ \r\n  mode, \r\n  onBack, \r\n  onConnectionChange,\r\n  onSendMessage,\r\n  onFileUpload,\r\n  isUploading\r\n}) => {\r\n  const { addMessage, setConnection } = useChat();\r\n  const { isConnected: wsConnected } = useWebSocketSync();\r\n\r\n  // Initialize welcome message for this mode\r\n  useWelcomeMessage(mode, addMessage);\r\n\r\n  // Handle connection status\r\n  useEffect(() => {\r\n    setConnection(wsConnected);\r\n    onConnectionChange?.(wsConnected);\r\n\r\n    return () => {\r\n      setConnection(false);\r\n      onConnectionChange?.(false);\r\n    };\r\n  }, [wsConnected, setConnection, onConnectionChange]);\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-[calc(90vh-64px)] bg-white/60\">\r\n      <ChatHeader \r\n        mode={mode} \r\n        onBack={onBack} \r\n        isConnected={wsConnected} \r\n      />\r\n      \r\n      <ChatMessages mode={mode} />\r\n      \r\n      <ChatFooter \r\n        mode={mode}\r\n        onSendMessage={onSendMessage}\r\n        onFileUpload={onFileUpload}\r\n        isUploading={isUploading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatLayout;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,gBAAgB,QAAQ,2BAA2B;AAC5D,SAASC,iBAAiB,QAAQ,4BAA4B;AAC9D,OAAOC,UAAU,MAAM,+BAA+B;AACtD,OAAOC,YAAY,MAAM,iCAAiC;AAC1D,OAAOC,UAAU,MAAM,+BAA+B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvD,MAAMC,UAAU,GAAGA,CAAC;EAClBC,IAAI;EACJC,MAAM;EACNC,kBAAkB;EAClBC,aAAa;EACbC,YAAY;EACZC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM;IAAEC,UAAU;IAAEC;EAAc,CAAC,GAAGjB,OAAO,CAAC,CAAC;EAC/C,MAAM;IAAEkB,WAAW,EAAEC;EAAY,CAAC,GAAGlB,gBAAgB,CAAC,CAAC;;EAEvD;EACAC,iBAAiB,CAACO,IAAI,EAAEO,UAAU,CAAC;;EAEnC;EACAjB,SAAS,CAAC,MAAM;IACdkB,aAAa,CAACE,WAAW,CAAC;IAC1BR,kBAAkB,aAAlBA,kBAAkB,uBAAlBA,kBAAkB,CAAGQ,WAAW,CAAC;IAEjC,OAAO,MAAM;MACXF,aAAa,CAAC,KAAK,CAAC;MACpBN,kBAAkB,aAAlBA,kBAAkB,uBAAlBA,kBAAkB,CAAG,KAAK,CAAC;IAC7B,CAAC;EACH,CAAC,EAAE,CAACQ,WAAW,EAAEF,aAAa,EAAEN,kBAAkB,CAAC,CAAC;EAEpD,oBACEJ,OAAA;IAAKa,SAAS,EAAC,+CAA+C;IAAAC,QAAA,gBAC5Dd,OAAA,CAACJ,UAAU;MACTM,IAAI,EAAEA,IAAK;MACXC,MAAM,EAAEA,MAAO;MACfQ,WAAW,EAAEC;IAAY;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CAAC,eAEFlB,OAAA,CAACH,YAAY;MAACK,IAAI,EAAEA;IAAK;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAE5BlB,OAAA,CAACF,UAAU;MACTI,IAAI,EAAEA,IAAK;MACXG,aAAa,EAAEA,aAAc;MAC7BC,YAAY,EAAEA,YAAa;MAC3BC,WAAW,EAAEA;IAAY;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAACV,EAAA,CA3CIP,UAAU;EAAA,QAQwBR,OAAO,EACRC,gBAAgB,EAGrDC,iBAAiB;AAAA;AAAAwB,EAAA,GAZblB,UAAU;AA6ChB,eAAeA,UAAU;AAAC,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}