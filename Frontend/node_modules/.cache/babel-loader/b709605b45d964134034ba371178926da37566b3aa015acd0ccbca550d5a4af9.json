{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useChat } from '../context/ChatContext';\nimport { createMessage, createErrorMessage } from '../utils/messageHelpers';\nimport { uploadFile } from '../services/api/knowledgeApi';\nexport const useFileUpload = () => {\n  _s();\n  const {\n    addMessage\n  } = useChat();\n  const [isUploading, setIsUploading] = useState(false);\n  const handleFileUpload = async file => {\n    setIsUploading(true);\n    try {\n      const data = await uploadFile(file);\n      const successMessage = createMessage(data.message || 'File uploaded successfully!', 'bot', 'store');\n      addMessage(successMessage);\n    } catch (error) {\n      console.error('Error uploading file:', error);\n      const errorMessage = createMessage(`Sorry, there was an error uploading your file: ${error.message}`, 'bot', 'store');\n      addMessage(errorMessage);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  return {\n    handleFileUpload,\n    isUploading\n  };\n};\n_s(useFileUpload, \"bJseSmQShFdPqq28++4okIC3Xfc=\", false, function () {\n  return [useChat];\n});","map":{"version":3,"names":["useState","useChat","createMessage","createErrorMessage","uploadFile","useFileUpload","_s","addMessage","isUploading","setIsUploading","handleFileUpload","file","data","successMessage","message","error","console","errorMessage"],"sources":["C:/Users/Minhen/Downloads/AIAssistant-new/Frontend/src/hooks/useFileUpload.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useChat } from '../context/ChatContext';\r\nimport { createMessage, createErrorMessage } from '../utils/messageHelpers';\r\nimport { uploadFile } from '../services/api/knowledgeApi';\r\n\r\nexport const useFileUpload = () => {\r\n  const { addMessage } = useChat();\r\n  const [isUploading, setIsUploading] = useState(false);\r\n\r\n  const handleFileUpload = async (file) => {\r\n    setIsUploading(true);\r\n\r\n    try {\r\n      const data = await uploadFile(file);\r\n      \r\n      const successMessage = createMessage(\r\n        data.message || 'File uploaded successfully!',\r\n        'bot',\r\n        'store'\r\n      );\r\n      addMessage(successMessage);\r\n\r\n    } catch (error) {\r\n      console.error('Error uploading file:', error);\r\n      const errorMessage = createMessage(\r\n        `Sorry, there was an error uploading your file: ${error.message}`,\r\n        'bot',\r\n        'store'\r\n      );\r\n      addMessage(errorMessage);\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  return { handleFileUpload, isUploading };\r\n};"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,aAAa,EAAEC,kBAAkB,QAAQ,yBAAyB;AAC3E,SAASC,UAAU,QAAQ,8BAA8B;AAEzD,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC,MAAM;IAAEC;EAAW,CAAC,GAAGN,OAAO,CAAC,CAAC;EAChC,MAAM,CAACO,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAErD,MAAMU,gBAAgB,GAAG,MAAOC,IAAI,IAAK;IACvCF,cAAc,CAAC,IAAI,CAAC;IAEpB,IAAI;MACF,MAAMG,IAAI,GAAG,MAAMR,UAAU,CAACO,IAAI,CAAC;MAEnC,MAAME,cAAc,GAAGX,aAAa,CAClCU,IAAI,CAACE,OAAO,IAAI,6BAA6B,EAC7C,KAAK,EACL,OACF,CAAC;MACDP,UAAU,CAACM,cAAc,CAAC;IAE5B,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,MAAME,YAAY,GAAGf,aAAa,CAChC,kDAAkDa,KAAK,CAACD,OAAO,EAAE,EACjE,KAAK,EACL,OACF,CAAC;MACDP,UAAU,CAACU,YAAY,CAAC;IAC1B,CAAC,SAAS;MACRR,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;EAED,OAAO;IAAEC,gBAAgB;IAAEF;EAAY,CAAC;AAC1C,CAAC;AAACF,EAAA,CA/BWD,aAAa;EAAA,QACDJ,OAAO;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}