{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Minhen\\\\Downloads\\\\AIAssistant-new\\\\Frontend\\\\src\\\\components\\\\chat\\\\MessageInput.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Send, Loader2 } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MessageInput({\n  onSendMessage,\n  placeholder = \"Type your message...\"\n}) {\n  _s();\n  const [message, setMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const textareaRef = useRef(null);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!message.trim() || isLoading) return;\n    setIsLoading(true);\n    try {\n      await onSendMessage(message);\n      setMessage('');\n      if (textareaRef.current) {\n        textareaRef.current.style.height = 'auto';\n        textareaRef.current.focus(); // ✅ keeps focus after sending\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyDown = e => {\n    // ✅ changed from handleKeyPress\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  const handleInputChange = e => {\n    setMessage(e.target.value);\n\n    // Auto-resize textarea\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = Math.min(textareaRef.current.scrollHeight, 120) + 'px';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-end gap-2 rounded-2xl border border-gray-200 bg-white/80 px-3 py-2 focus-within:ring-2 focus-within:ring-brand\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: textareaRef,\n        value: message,\n        onChange: handleInputChange,\n        onKeyDown: handleKeyDown,\n        placeholder: placeholder,\n        className: \"flex-1 resize-none bg-transparent outline-none text-[15px] leading-relaxed placeholder:text-gray-500 max-h-32\",\n        rows: \"1\",\n        disabled: isLoading,\n        autoFocus: true // ✅ will focus when mounted\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: `inline-flex items-center justify-center w-10 h-10 rounded-full bg-brand text-white ${!message.trim() || isLoading ? 'opacity-60 cursor-not-allowed' : 'hover:brightness-110'}`,\n        disabled: !message.trim() || isLoading,\n        children: isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n          size: 18,\n          className: \"animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Send, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(MessageInput, \"6UWJTrmScU2Sagy5xY6ZnC4gJ04=\");\n_c = MessageInput;\nexport default MessageInput;\nvar _c;\n$RefreshReg$(_c, \"MessageInput\");","map":{"version":3,"names":["React","useState","useRef","Send","Loader2","jsxDEV","_jsxDEV","MessageInput","onSendMessage","placeholder","_s","message","setMessage","isLoading","setIsLoading","textareaRef","handleSubmit","e","preventDefault","trim","current","style","height","focus","error","console","handleKeyDown","key","shiftKey","handleInputChange","target","value","Math","min","scrollHeight","onSubmit","children","className","ref","onChange","onKeyDown","rows","disabled","autoFocus","fileName","_jsxFileName","lineNumber","columnNumber","type","size","_c","$RefreshReg$"],"sources":["C:/Users/Minhen/Downloads/AIAssistant-new/Frontend/src/components/chat/MessageInput.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { Send, Loader2 } from 'lucide-react';\r\n\r\nfunction MessageInput({ onSendMessage, placeholder = \"Type your message...\" }) {\r\n  const [message, setMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const textareaRef = useRef(null);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!message.trim() || isLoading) return;\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      await onSendMessage(message);\r\n      setMessage('');\r\n      if (textareaRef.current) {\r\n        textareaRef.current.style.height = 'auto';\r\n        textareaRef.current.focus(); // ✅ keeps focus after sending\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {   // ✅ changed from handleKeyPress\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSubmit(e);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    setMessage(e.target.value);\r\n\r\n    // Auto-resize textarea\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = 'auto';\r\n      textareaRef.current.style.height = Math.min(textareaRef.current.scrollHeight, 120) + 'px';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"flex items-end gap-2 rounded-2xl border border-gray-200 bg-white/80 px-3 py-2 focus-within:ring-2 focus-within:ring-brand\">\r\n      <textarea\r\n        ref={textareaRef}\r\n        value={message}\r\n        onChange={handleInputChange}\r\n        onKeyDown={handleKeyDown}\r\n        placeholder={placeholder}\r\n        className=\"flex-1 resize-none bg-transparent outline-none text-[15px] leading-relaxed placeholder:text-gray-500 max-h-32\"\r\n        rows=\"1\"\r\n        disabled={isLoading}\r\n        autoFocus   // ✅ will focus when mounted\r\n      />\r\n        <button\r\n          type=\"submit\"\r\n          className={`inline-flex items-center justify-center w-10 h-10 rounded-full bg-brand text-white ${(!message.trim() || isLoading) ? 'opacity-60 cursor-not-allowed' : 'hover:brightness-110'}`}\r\n          disabled={!message.trim() || isLoading}\r\n        >\r\n          {isLoading ? (\r\n            <Loader2 size={18} className=\"animate-spin\" />\r\n          ) : (\r\n            <Send size={18} />\r\n          )}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default MessageInput;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}